{
  "openapi": "3.0.0",
  "paths": {
    "/api": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["App"]
      }
    },
    "/api/health/mongo": {
      "get": {
        "operationId": "HealthController_checkMongoConnection",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Health"]
      }
    },
    "/api/health/cache-store": {
      "get": {
        "operationId": "HealthController_checkCacheStore",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Health"]
      }
    },
    "/api/health/redis": {
      "get": {
        "operationId": "HealthController_checkRedis",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Health"]
      }
    },
    "/api/health/config": {
      "get": {
        "operationId": "HealthController_checkConfig",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Health"]
      }
    },
    "/api/health/jwt": {
      "get": {
        "operationId": "HealthController_checkJwt",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Health"]
      }
    },
    "/api/auth/signup": {
      "post": {
        "operationId": "AuthController_signUp",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignUpDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/api/auth/signin": {
      "post": {
        "operationId": "AuthController_signIn",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignInDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/api/auth/verify-otp": {
      "post": {
        "operationId": "AuthController_verifyOtp",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyOtpDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/api/auth/refresh": {
      "post": {
        "operationId": "AuthController_refreshToken",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/api/auth/signout": {
      "post": {
        "operationId": "AuthController_signOut",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/api/auth/me": {
      "get": {
        "operationId": "AuthController_getProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Auth"]
      }
    },
    "/api/profile": {
      "post": {
        "operationId": "ProfileController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProfileDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Profile"]
      }
    },
    "/api/profile/{id}": {
      "patch": {
        "operationId": "ProfileController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Profile"]
      }
    },
    "/api/profile/{userId}": {
      "delete": {
        "operationId": "ProfileController_deleteByUserId",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Profile"]
      }
    },
    "/api/roles": {
      "post": {
        "operationId": "RolesController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Role created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          }
        },
        "summary": "Create a new role",
        "tags": ["roles"]
      },
      "get": {
        "operationId": "RolesController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of roles",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Role"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all roles",
        "tags": ["roles"]
      }
    },
    "/api/roles/{id}": {
      "get": {
        "operationId": "RolesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Role ID",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Role found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "404": {
            "description": "Role not found"
          }
        },
        "summary": "Get a role by ID",
        "tags": ["roles"]
      },
      "put": {
        "operationId": "RolesController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Role ID",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Partial role data to update",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Role updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "404": {
            "description": "Role not found"
          }
        },
        "summary": "Update a role by ID",
        "tags": ["roles"]
      },
      "delete": {
        "operationId": "RolesController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Role ID",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Role deleted successfully"
          },
          "404": {
            "description": "Role not found"
          }
        },
        "summary": "Delete a role by ID",
        "tags": ["roles"]
      }
    },
    "/api/roles/name/{name}": {
      "get": {
        "operationId": "RolesController_findByName",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "path",
            "description": "Role name",
            "schema": {
              "example": "admin",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Role found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "404": {
            "description": "Role not found"
          }
        },
        "summary": "Get a role by name",
        "tags": ["roles"]
      }
    },
    "/api/products": {
      "post": {
        "operationId": "ProductsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Products"]
      },
      "get": {
        "operationId": "ProductsController_findAll",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Products"]
      }
    },
    "/api/products/{id}": {
      "get": {
        "operationId": "ProductsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Products"]
      },
      "patch": {
        "operationId": "ProductsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Products"]
      },
      "delete": {
        "operationId": "ProductsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Products"]
      }
    },
    "/api/products/count/category/{categoryId}": {
      "get": {
        "operationId": "ProductsController_countByCategory",
        "parameters": [
          {
            "name": "categoryId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Products"]
      }
    },
    "/api/products/top-sales": {
      "get": {
        "operationId": "ProductsController_getTopProducts",
        "parameters": [
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Products"]
      }
    },
    "/api/tickets": {
      "post": {
        "operationId": "TicketingController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTicketDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      },
      "get": {
        "operationId": "TicketingController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      }
    },
    "/api/tickets/{id}": {
      "get": {
        "operationId": "TicketingController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      },
      "put": {
        "operationId": "TicketingController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTicketDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      },
      "delete": {
        "operationId": "TicketingController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      }
    },
    "/api/tickets/{id}/status": {
      "get": {
        "operationId": "TicketingController_findStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      },
      "put": {
        "operationId": "TicketingController_updateStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      }
    },
    "/api/tickets/{id}/escalate": {
      "post": {
        "operationId": "TicketingController_escalateTicket",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Ticketing"]
      }
    },
    "/api/transportings": {
      "post": {
        "operationId": "TransportingsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTransportingDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transporting record created successfully"
          },
          "400": {
            "description": "Invalid input"
          }
        },
        "summary": "Create a new transporting record",
        "tags": ["transportings"]
      },
      "patch": {
        "operationId": "TransportingsController_update",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTransportingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Transporting record updated successfully"
          },
          "404": {
            "description": "Transporting record not found"
          }
        },
        "summary": "Update a transporting record",
        "tags": ["transportings"]
      }
    },
    "/api/transportings/{id}": {
      "get": {
        "operationId": "TransportingsController_findById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Transporting ID",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transporting record found"
          },
          "404": {
            "description": "Transporting record not found"
          }
        },
        "summary": "Get transporting record by ID",
        "tags": ["transportings"]
      }
    },
    "/api/transportings/order/{orderId}": {
      "get": {
        "operationId": "TransportingsController_findByOrderId",
        "parameters": [
          {
            "name": "orderId",
            "required": true,
            "in": "path",
            "description": "Order ID",
            "schema": {
              "example": "507f1f77bcf86cd799439012",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transporting record found"
          },
          "404": {
            "description": "Transporting record not found"
          }
        },
        "summary": "Get transporting record by order ID",
        "tags": ["transportings"]
      }
    },
    "/api/transportings/company/{companyId}": {
      "get": {
        "operationId": "TransportingsController_findByCompanyId",
        "parameters": [
          {
            "name": "companyId",
            "required": true,
            "in": "path",
            "description": "Company ID",
            "schema": {
              "example": "507f1f77bcf86cd799439013",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of transporting records found"
          },
          "404": {
            "description": "No transporting records found for the company"
          }
        },
        "summary": "Get transporting records by company ID",
        "tags": ["transportings"]
      }
    },
    "/api/transportings/{id}/cancel": {
      "patch": {
        "operationId": "TransportingsController_cancel",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Transporting ID",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transporting record canceled successfully"
          },
          "400": {
            "description": "Transporting record cannot be canceled"
          },
          "404": {
            "description": "Transporting record not found"
          }
        },
        "summary": "Cancel a transporting record",
        "tags": ["transportings"]
      }
    },
    "/api/transportings/{id}/delivered": {
      "patch": {
        "operationId": "TransportingsController_markAsDelivered",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Transporting ID",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "estimatedDelivery": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Transporting record marked as delivered successfully"
          },
          "400": {
            "description": "Transporting record cannot be marked as delivered"
          },
          "404": {
            "description": "Transporting record not found"
          }
        },
        "summary": "Mark a transporting record as delivered",
        "tags": ["transportings"]
      }
    },
    "/api/companies": {
      "post": {
        "operationId": "CompaniesController_createCompany",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Companies"]
      },
      "get": {
        "operationId": "CompaniesController_getAllCompanies",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Companies"]
      }
    },
    "/api/companies/{id}": {
      "patch": {
        "operationId": "CompaniesController_updateCompany",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Companies"]
      },
      "delete": {
        "operationId": "CompaniesController_deleteCompany",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Companies"]
      },
      "get": {
        "operationId": "CompaniesController_getCompanyById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Companies"]
      }
    },
    "/api/orders": {
      "post": {
        "operationId": "OrdersController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrderDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      },
      "get": {
        "operationId": "OrdersController_find",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "companyId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/orders/{id}": {
      "get": {
        "operationId": "OrdersController_getById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      },
      "patch": {
        "operationId": "OrdersController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrderDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/orders/{id}/cancel": {
      "patch": {
        "operationId": "OrdersController_cancel",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/orders/{id}/mark-paid": {
      "patch": {
        "operationId": "OrdersController_markAsPaid",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/orders/{id}/mark-shipped": {
      "patch": {
        "operationId": "OrdersController_markAsShipped",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/orders/{id}/mark-delivered": {
      "patch": {
        "operationId": "OrdersController_markAsDelivered",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/orders/{id}/refund": {
      "patch": {
        "operationId": "OrdersController_refund",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/orders/{id}/confirm-delivery": {
      "patch": {
        "operationId": "OrdersController_confirmDelivery",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Orders"]
      }
    },
    "/api/wallets": {
      "get": {
        "operationId": "WalletsController_getWallet",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Wallets"]
      }
    },
    "/api/transaction": {
      "post": {
        "operationId": "TransactionController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTransactionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Transaction"]
      },
      "get": {
        "operationId": "TransactionController_findAll",
        "parameters": [
          {
            "name": "terminalId",
            "required": true,
            "in": "query",
            "description": "Zarinpal terminal ID",
            "schema": {
              "example": "a3c16110-f184-44e2-ad26-649387845a94",
              "type": "string"
            }
          },
          {
            "name": "filter",
            "required": false,
            "in": "query",
            "description": "Filter for transactions",
            "schema": {
              "example": "all",
              "type": "string"
            }
          },
          {
            "name": "offset",
            "required": true,
            "in": "query",
            "description": "Offset for pagination",
            "schema": {
              "example": 0,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "description": "Limit for pagination",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Transaction"]
      }
    },
    "/api/transaction/inquire": {
      "post": {
        "operationId": "TransactionController_inquire",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InquireZarinpalTransactionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Transaction"]
      }
    },
    "/api/payment/initiate": {
      "post": {
        "operationId": "PaymentController_initiatePayment",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitiateZarinpalPaymentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Payment"]
      }
    },
    "/api/payment/verify": {
      "post": {
        "operationId": "PaymentController_verifyPayment",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyZarinpalPaymentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Payment"]
      }
    },
    "/api/payment/process-refund": {
      "post": {
        "operationId": "PaymentController_processRefund",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProcessRefundZarinpalDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Payment"]
      }
    },
    "/api/payment/unverified": {
      "get": {
        "operationId": "PaymentController_getUnverified",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Payment"]
      }
    },
    "/api/payment/callback": {
      "get": {
        "operationId": "PaymentController_handleCallback",
        "parameters": [
          {
            "name": "Authority",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Status",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Payment"]
      }
    },
    "/api/carts/active": {
      "get": {
        "operationId": "CartsController_getUserActiveCart",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User active cart returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Cart"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get the active cart for current user",
        "tags": ["Carts"]
      }
    },
    "/api/carts/populated": {
      "get": {
        "operationId": "CartsController_getPopulatedCarts",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Populated carts list returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Cart"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get carts with populated related data for current user",
        "tags": ["Carts"]
      }
    },
    "/api/carts/summary": {
      "get": {
        "operationId": "CartsController_getSummary",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Cart summary returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get summary of user carts",
        "tags": ["Carts"]
      }
    },
    "/api/carts": {
      "post": {
        "operationId": "CartsController_createCart",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCartDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Cart created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Cart"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new cart",
        "tags": ["Carts"]
      },
      "patch": {
        "operationId": "CartsController_updateCart",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PartialType"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cart updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Cart"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update the user's cart partially",
        "tags": ["Carts"]
      }
    },
    "/api/carts/items": {
      "post": {
        "operationId": "CartsController_addItem",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CartItemDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item added to cart",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Cart"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Add item to user's cart",
        "tags": ["Carts"]
      }
    },
    "/api/carts/items/{productId}": {
      "delete": {
        "operationId": "CartsController_removeItem",
        "parameters": [
          {
            "name": "productId",
            "required": true,
            "in": "path",
            "description": "ID of the product to remove",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Item removed from cart",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Cart"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Remove item from user's cart",
        "tags": ["Carts"]
      }
    },
    "/api/carts/clear": {
      "delete": {
        "operationId": "CartsController_clearCart",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Cart cleared",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Cart"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Clear all items from user's cart",
        "tags": ["Carts"]
      }
    },
    "/api/carts/checkout": {
      "post": {
        "operationId": "CartsController_checkout",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Cart checked out successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Checkout the user's cart",
        "tags": ["Carts"]
      }
    },
    "/api/categories": {
      "post": {
        "operationId": "CategoriesController_create",
        "parameters": [],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": ["Categories"]
      },
      "get": {
        "operationId": "CategoriesController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Categories"]
      }
    },
    "/api/categories/{id}": {
      "get": {
        "operationId": "CategoriesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Categories"]
      },
      "patch": {
        "operationId": "CategoriesController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Categories"]
      },
      "delete": {
        "operationId": "CategoriesController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Categories"]
      }
    },
    "/api/categories/{id}/status": {
      "patch": {
        "operationId": "CategoriesController_setStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Categories"]
      }
    },
    "/api/categories/parent/{parentId}": {
      "get": {
        "operationId": "CategoriesController_findByParentId",
        "parameters": [
          {
            "name": "parentId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": ["Categories"]
      }
    }
  },
  "info": {
    "title": "practice",
    "description": "API documentation for my practice app",
    "version": "0.0.1",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "SignUpDto": {
        "type": "object",
        "properties": {
          "phoneNumber": {
            "type": "string",
            "description": "Iranian phone number of the user",
            "example": "0989123456789"
          },
          "nationalId": {
            "type": "string",
            "description": "Iranian national ID (meli code)",
            "example": "2284280072"
          }
        },
        "required": ["phoneNumber", "nationalId"]
      },
      "SignInDto": {
        "type": "object",
        "properties": {
          "phoneNumber": {
            "type": "string",
            "description": "Iranian phone number of the user",
            "example": "+989123456789"
          }
        },
        "required": ["phoneNumber"]
      },
      "VerifyOtpDto": {
        "type": "object",
        "properties": {
          "phoneNumber": {
            "type": "string",
            "description": "Iranian phone number of the user",
            "example": "+989123456789"
          },
          "otp": {
            "type": "string",
            "description": "One-time password (OTP) for verification",
            "example": "1234"
          }
        },
        "required": ["phoneNumber", "otp"]
      },
      "Cart": {
        "type": "object",
        "properties": {}
      },
      "CreateProfileDto": {
        "type": "object",
        "properties": {
          "phoneNumber": {
            "type": "string",
            "description": "Iranian phone number of the user",
            "example": "+989123456789"
          },
          "nationalId": {
            "type": "string",
            "description": "National ID of the user",
            "example": "1234567890"
          },
          "firstName": {
            "type": "string",
            "description": "First name of the user",
            "example": "Ali"
          },
          "lastName": {
            "type": "string",
            "description": "Last name of the user",
            "example": "Hosseini"
          },
          "address": {
            "type": "string",
            "description": "Address of the user",
            "example": "Tehran, Valiasr St., No. 123"
          },
          "walletId": {
            "type": "string",
            "description": "Wallet ID associated with the user (optional)",
            "example": "507f1f77bcf86cd799439011"
          },
          "orders": {
            "description": "List of order IDs associated with the user",
            "example": ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439012"],
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "transactions": {
            "description": "List of transaction IDs associated with the user",
            "example": ["507f1f77bcf86cd799439013", "507f1f77bcf86cd799439014"],
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "favorites": {
            "description": "List of favorite product IDs",
            "example": ["507f1f77bcf86cd799439015", "507f1f77bcf86cd799439016"],
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "cart": {
            "description": "Userâ€™s shopping cart",
            "default": [],
            "allOf": [
              {
                "$ref": "#/components/schemas/Cart"
              }
            ]
          }
        },
        "required": [
          "phoneNumber",
          "nationalId",
          "firstName",
          "lastName",
          "address",
          "orders",
          "transactions",
          "favorites",
          "cart"
        ]
      },
      "UpdateProfileDto": {
        "type": "object",
        "properties": {
          "phoneNumber": {
            "type": "string",
            "description": "Iranian phone number of the user",
            "example": "+989123456789"
          },
          "nationalId": {
            "type": "string",
            "description": "National ID of the user",
            "example": "1234567890"
          },
          "firstName": {
            "type": "string",
            "description": "First name of the user",
            "example": "Ali"
          },
          "lastName": {
            "type": "string",
            "description": "Last name of the user",
            "example": "Hosseini"
          },
          "address": {
            "type": "string",
            "description": "Address of the user",
            "example": "Tehran, Valiasr St., No. 123"
          },
          "walletId": {
            "type": "string",
            "description": "Wallet ID associated with the user (optional)",
            "example": "507f1f77bcf86cd799439011"
          },
          "orders": {
            "description": "List of order IDs associated with the user",
            "example": ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439012"],
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "transactions": {
            "description": "List of transaction IDs associated with the user",
            "example": ["507f1f77bcf86cd799439013", "507f1f77bcf86cd799439014"],
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "favorites": {
            "description": "List of favorite product IDs",
            "example": ["507f1f77bcf86cd799439015", "507f1f77bcf86cd799439016"],
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "cart": {
            "description": "Userâ€™s shopping cart",
            "default": [],
            "allOf": [
              {
                "$ref": "#/components/schemas/Cart"
              }
            ]
          }
        }
      },
      "Permission": {
        "type": "object",
        "properties": {
          "resource": {
            "type": "string",
            "enum": ["carts", "", "", "", "", "", "", "", "", "", "", "", "all"],
            "example": ""
          },
          "actions": {
            "type": "array",
            "example": ["read", "update"],
            "items": {
              "type": "string",
              "enum": ["read", "update", "create", "delete", "manage"]
            }
          }
        },
        "required": ["resource", "actions"]
      },
      "CreateRoleDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "admin"
          },
          "permissions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Permission"
            }
          }
        },
        "required": ["name", "permissions"]
      },
      "Role": {
        "type": "object",
        "properties": {}
      },
      "StockDto": {
        "type": "object",
        "properties": {
          "quantity": {
            "type": "number",
            "description": "Quantity of product in stock",
            "example": 500,
            "minimum": 0
          }
        },
        "required": ["quantity"]
      },
      "VariantOptionDto": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "Value of the variant option",
            "example": "50 kg"
          },
          "priceModifier": {
            "type": "number",
            "description": "Price modifier for this option (in IRR)",
            "example": 0
          }
        },
        "required": ["value"]
      },
      "VariantDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the variant",
            "example": "Packaging"
          },
          "options": {
            "description": "List of variant options",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VariantOptionDto"
            }
          }
        },
        "required": ["name", "options"]
      },
      "ImageDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "URL of the product image",
            "example": "https://example.com/cement-bag.jpg"
          }
        },
        "required": ["url"]
      },
      "CreateProductDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the product",
            "example": "Cement Type 2"
          },
          "slug": {
            "type": "string",
            "description": "SEO-friendly unique slug for the product",
            "example": "cement-type-2"
          },
          "sku": {
            "type": "string",
            "description": "Stock Keeping Unit (SKU) code",
            "example": "CEM-T2-001"
          },
          "basePrice": {
            "type": "number",
            "description": "Base price of the product (in IRR)",
            "example": 2000000,
            "minimum": 0
          },
          "companyId": {
            "type": "string",
            "description": "MongoDB ObjectId of the supplier company",
            "example": "507f1f77bcf86cd799439011"
          },
          "categories": {
            "description": "List of category IDs",
            "example": ["507f1f77bcf86cd799439012"],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "description": {
            "type": "string",
            "description": "Description of the product",
            "example": "High-strength Type 2 cement for concrete structures",
            "maxLength": 500
          },
          "stock": {
            "description": "Stock information for the product",
            "allOf": [
              {
                "$ref": "#/components/schemas/StockDto"
              }
            ]
          },
          "variants": {
            "description": "Product variants",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VariantDto"
            }
          },
          "attributes": {
            "type": "object",
            "description": "Custom attributes of the product",
            "example": {
              "strength": "42.5 MPa",
              "settingTime": "3 hours"
            }
          },
          "tags": {
            "description": "Tags for filtering and search",
            "example": ["cement", "construction"],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "images": {
            "description": "Images associated with the product",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageDto"
            }
          },
          "comments": {
            "description": "User comments about the product",
            "example": ["Great quality!", "Fast delivery"],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rating": {
            "type": "number",
            "description": "Average rating of the product (1 to 5)",
            "example": 4.5,
            "minimum": 1,
            "maximum": 5
          },
          "status": {
            "type": "string",
            "description": "Status of the product",
            "enum": ["active", "inactive", "draft", "archived"],
            "example": "draft"
          }
        },
        "required": ["name", "slug", "sku", "basePrice", "companyId", "stock"]
      },
      "UpdateProductDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "MongoDB ObjectId of the product",
            "example": "507f1f77bcf86cd799439011"
          }
        },
        "required": ["id"]
      },
      "CreateTicketDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Title of the ticket",
            "example": "Issue with payment"
          },
          "description": {
            "type": "string",
            "description": "Description of the ticket",
            "example": "Payment failed during checkout"
          },
          "status": {
            "type": "string",
            "description": "Status of the ticket",
            "enum": ["open", "in_progress", "resolved", "closed", "reopened", "escalated"],
            "default": "open"
          },
          "priority": {
            "type": "string",
            "description": "Priority of the ticket",
            "enum": ["low", "medium", "high", "urgent"],
            "default": "low"
          },
          "createdBy": {
            "type": "string",
            "description": "ID of the user who created the ticket",
            "example": "507f1f77bcf86cd799439011"
          },
          "assignedTo": {
            "type": "string",
            "description": "ID of the user assigned to the ticket",
            "example": "507f1f77bcf86cd799439012"
          }
        },
        "required": ["title", "description"]
      },
      "UpdateTicketDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Title of the ticket",
            "example": "Updated issue with payment"
          },
          "description": {
            "type": "string",
            "description": "Description of the ticket",
            "example": "Updated description for payment issue"
          },
          "status": {
            "type": "string",
            "description": "Status of the ticket",
            "enum": ["open", "in_progress", "resolved", "closed", "reopened", "escalated"],
            "example": "in_progress"
          },
          "priority": {
            "type": "string",
            "description": "Priority of the ticket",
            "enum": ["low", "medium", "high", "urgent"],
            "example": "high"
          },
          "assignedTo": {
            "type": "string",
            "description": "ID of the user assigned to the ticket",
            "example": "507f1f77bcf86cd799439012"
          }
        }
      },
      "CreateTransportingDto": {
        "type": "object",
        "properties": {
          "orderId": {
            "type": "string",
            "description": "MongoDB ObjectId of the order associated with the shipment",
            "example": "507f1f77bcf86cd799439011"
          },
          "companyId": {
            "type": "string",
            "description": "MongoDB ObjectId of the company handling the shipment",
            "example": "507f1f77bcf86cd799439012"
          },
          "carrier": {
            "type": "string",
            "description": "Name of the carrier",
            "example": "DHL Express"
          },
          "trackingNumber": {
            "type": "string",
            "description": "Tracking number for the shipment",
            "example": "123456789"
          },
          "status": {
            "type": "string",
            "description": "Status of the shipment",
            "enum": ["pending", "shipped", "delivered", "canceled"],
            "example": "shipped"
          },
          "estimatedDelivery": {
            "format": "date-time",
            "type": "string",
            "description": "Estimated delivery date for the shipment",
            "example": "2025-06-10"
          }
        },
        "required": ["orderId", "companyId", "carrier", "trackingNumber"]
      },
      "UpdateTransportingDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "MongoDB ObjectId of the transporting record",
            "example": "507f1f77bcf86cd799439011"
          }
        },
        "required": ["id"]
      },
      "OrderItemDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "MongoDB ObjectId of the product",
            "example": "507f1f77bcf86cd799439011"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the product",
            "example": 2,
            "minimum": 1
          }
        },
        "required": ["productId", "quantity"]
      },
      "CreateOrderDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "MongoDB ObjectId of the user",
            "example": "507f1f77bcf86cd799439011"
          },
          "items": {
            "description": "List of order items",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItemDto"
            }
          },
          "totalPrice": {
            "type": "number",
            "description": "Total price of the order (in IRR)",
            "example": 1500000,
            "minimum": 0
          },
          "status": {
            "type": "string",
            "description": "Status of the order",
            "enum": [
              "pending",
              "paid",
              "shipped",
              "delivered",
              "completed",
              "refunded",
              "canceled",
              "failed"
            ],
            "example": "pending"
          },
          "shippingAddress": {
            "type": "string",
            "description": "Shipping address for the order",
            "example": "123 Street, Tehran, Iran"
          },
          "paymentMethod": {
            "type": "string",
            "description": "Payment method used for the order",
            "example": "Credit Card"
          },
          "companyId": {
            "type": "string",
            "description": "MongoDB ObjectId of the supplier company",
            "example": "507f1f77bcf86cd799439011"
          },
          "transportId": {
            "type": "string",
            "description": "MongoDB ObjectId of the transport record",
            "example": "507f1f77bcf86cd799439011"
          }
        },
        "required": ["userId", "items", "totalPrice", "status", "companyId"]
      },
      "UpdateOrderDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "MongoDB ObjectId of the order",
            "example": "507f1f77bcf86cd799439011"
          }
        },
        "required": ["id"]
      },
      "CreateTransactionDto": {
        "type": "object",
        "properties": {}
      },
      "InquireZarinpalTransactionDto": {
        "type": "object",
        "properties": {
          "authority": {
            "type": "string",
            "description": "Transaction authority",
            "example": "A00000000000000000000000000000000001"
          }
        },
        "required": ["authority"]
      },
      "InitiateZarinpalPaymentDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Payment amount in IRR",
            "example": 100000
          },
          "callbackUrl": {
            "type": "string",
            "description": "Callback URL for payment",
            "example": "http://localhost:3000/payment/callback"
          },
          "description": {
            "type": "string",
            "description": "Payment description",
            "example": "Payment for order #123"
          },
          "mobile": {
            "type": "string",
            "description": "Mobile number of the payer",
            "example": "09123456789"
          },
          "email": {
            "type": "string",
            "description": "Email address of the payer",
            "example": "user@example.com"
          }
        },
        "required": ["amount", "callbackUrl", "description"]
      },
      "VerifyZarinpalPaymentDto": {
        "type": "object",
        "properties": {
          "authority": {
            "type": "string",
            "description": "Transaction authority",
            "example": "A00000000000000000000000000000000001"
          },
          "amount": {
            "type": "number",
            "description": "Transaction amount in IRR",
            "example": 100000
          }
        },
        "required": ["authority", "amount"]
      },
      "ProcessRefundZarinpalDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Transaction authority",
            "example": "A00000000000000000000000000000000001"
          },
          "amount": {
            "type": "number",
            "description": "Refund amount in IRR",
            "example": 50000
          },
          "description": {
            "type": "string",
            "description": "Refund description",
            "example": "Refund for order #123"
          },
          "method": {
            "type": "string",
            "description": "Refund method",
            "example": "bank_account"
          },
          "reason": {
            "type": "string",
            "description": "Reason for refund",
            "example": "Customer requested refund"
          }
        },
        "required": ["sessionId", "amount", "description", "method", "reason"]
      },
      "CartItemDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "MongoDB ObjectId of the product",
            "example": "507f1f77bcf86cd799439011"
          },
          "companyId": {
            "type": "string",
            "description": "MongoDB ObjectId of the supplier company",
            "example": "507f1f77bcf86cd799439011"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the product in the cart",
            "example": 2,
            "minimum": 1
          },
          "priceAtAdd": {
            "type": "number",
            "description": "Price of the product at the time of adding to cart (in IRR)",
            "example": 2000000,
            "minimum": 0
          },
          "variant": {
            "type": "object",
            "description": "Selected variant of the product (e.g., size, packaging)",
            "example": {
              "name": "Packaging",
              "value": "50 kg"
            }
          },
          "notes": {
            "type": "string",
            "description": "Additional notes for the cart item",
            "example": "Urgent delivery required"
          },
          "discount": {
            "type": "object",
            "description": "Discount applied to the cart item",
            "example": {
              "type": "percentage",
              "value": 10
            }
          }
        },
        "required": ["productId", "companyId", "quantity", "priceAtAdd"]
      },
      "CreateCartDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "MongoDB ObjectId of the user owning the cart",
            "example": "507f1f77bcf86cd799439011"
          },
          "items": {
            "description": "List of items in the cart",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CartItemDto"
            }
          },
          "totalAmount": {
            "type": "number",
            "description": "Total amount of the cart (in IRR)",
            "example": 4000000,
            "minimum": 0
          },
          "status": {
            "type": "string",
            "description": "Status of the cart",
            "enum": ["active", "abandoned", "checked_out"],
            "example": "active"
          }
        },
        "required": ["userId", "items"]
      },
      "PartialType": {
        "type": "object",
        "properties": {}
      }
    }
  }
}
